\section{Les Mathématiques}\label{sec:math}
Un des intérêts principaux de LaTeX est sa gestion
formidable des mathématiques.
Il est donc important de savoir comment écrire des formules mathématiques.
C'est l'objet de cette section.

\subsection{Les mathématiques en LaTeX}\label{subsec:latex_math}

LaTeX est particulièrement adapté pour écrire des formules mathématiques.
Qu'elles soient simples comme

\begin{equation}
    a + b = c
\end{equation}

ou bien plus farfelues comme

\begin{equation}\label{eq:2}
\boxed{
\frac{\partial^2 \Psi}{\partial t^2} = c^2 \nabla^2 \Psi + \underbrace{\sum_{k=1}^n \left( \frac{\hbar^2}{2m_k} \int_{\Omega} |\nabla \psi_k|^2 d^3\mathbf{r} \right)}_{\text{Quantum Potential Terms}} - \overbrace{\bigotimes_{j=1}^m \begin{pmatrix}
\alpha_j & -\beta_j^* \\
\beta_j & \alpha_j^*
\end{pmatrix}}^{\text{Unitary Operators}} + \left[ \prod_{i=1}^\infty \frac{p_i^{s_i}}{1-p_i^{-s_i}} \right]
}
\end{equation}

ou bien encore

\begin{equation}\label{eq:3}
\iiint\limits_{\mathcal{V}} \left( \frac{\rho\mathbf{v} \cdot \mathbf{v}}{2} + \rho e \right) dV = \oint_{\partial \mathcal{V}} \mathbf{T} \cdot \mathbf{v} \, dA + \underbrace{\int_{\mathcal{V}} \rho \mathbf{f} \cdot \mathbf{v} \, dV + \dot{Q}}_{\text{External Work and Heat}} - \frac{d}{dt} \left( \frac{1}{2} \sum_{\substack{i,j=1 \\ i\neq j}}^{N} \frac{G m_i m_j}{|\mathbf{r}_i - \mathbf{r}_j|} \right)
\end{equation}

LaTeX permet d'écrire des formules mathématiques de manière très élégante.
Ne vous inquiétez pas, vous n'aurez pas besoin de savoir écrire des formules aussi compliquées
mais il est utile d'en connaître certains éléments.

\subsection{Les 2 modes d'écriture}\label{subsec:latex_math_modes}

Il existe deux manières principales d'écrire des formules mathématiques en LaTeX:\@

\begin{itemize}
    \item \textbf{Inline math mode}: C'est le mode par défaut pour écrire des formules mathématiques au
    sein du texte. Il permet d'écrire des formules mathématiques courtes et simples. 
    Pour l'utiliser, il suffit d'entourer la formule des symboles \mintinline{latex}{\( \)}.
    
    Par exemple, le code \mintinline{latex}{\(a + b = c\)} 
    permet d'écrire \(a + b = c\) dans le texte.

    \item \textbf{Display math mode}: C'est le mode pour écrire des formules mathématiques plus grandes et plus complexes.
    Il est utilisé pour écrire des formules mathématiques qui prennent plus de place
    ou qui sont plus complexes. 
    Pour l'utiliser, il suffit d'entourer la formule de l'environnement \mintinline{latex}{\begin{equation} \end{equation}}
    ou des symboles \mintinline{latex}{\[ \]}.

    Par exemple, le code suivant
    \begin{minted}[frame=single, breaklines]{latex}
\begin{equation}
    \int_{0}^{1} x^2 \, dx = \frac{1}{3}
\end{equation}
    \end{minted}
    permet d'écrire
    \begin{equation}
        \int_{0}^{1} x^2 \, dx = \frac{1}{3}
    \end{equation}
    Voici les effets des différents éléments de ce code:
    \begin{itemize}
        \item \mintinline{latex}{\begin{equation}} et \mintinline{latex}{\end{equation}}:
        \begin{itemize}
            \item Ils permettent de commencer et de finir l'environnement d'une équation numérotée.
            \item Si vous ne voulez pas de numéro, utilisez \mintinline{latex}{\begin{equation*}} et \mintinline{latex}{\end{equation*}}.
        \end{itemize}
        \item \mintinline{latex}{\int_{0}^{1}}: Cela permet d'écrire l'intégrale de \(0\) à \(1\). 
        \begin{itemize}
            \item Le symbole \mintinline{latex}{\int} permet d'écrire l'intégrale.
            \item Le symbole \mintinline{latex}{_{0}} permet d'écrire la borne inférieure de l'intégrale.
            \item Le symbole \mintinline{latex}{^{1}} permet d'écrire la borne supérieure de l'intégrale.
        \end{itemize}

        \item \mintinline{latex}{x^2}: Cela permet d'écrire \(x\) au carré.
        \begin{itemize}
            \item Le symbole \mintinline{latex}{^} permet d'écrire l'exposant.
            \item Il est possible d'utiliser des exposants plus complexes comme \mintinline{latex}{x^{2n}} pour \(x^{2n}\).
        \end{itemize}

        \item \mintinline{latex}{\, dx}: Cela permet d'écrire \(dx\) avec un espace avant.
        \begin{itemize}
            \item Le symbole \mintinline{latex}{\,} permet d'ajouter un espace entre les symboles.
            \item Il est possible d'utiliser d'autres espaces comme \mintinline{latex}{\quad} pour un espace plus grand ou \mintinline{latex}{\qquad} pour un espace encore plus grand.
            \item Il est aussi possible d'utiliser \mintinline{latex}{\!} pour enlever un espace.
        \end{itemize}

        \item \mintinline{latex}{= \frac{1}{3}}: Cela permet d'écrire l'égalité avec la fraction.
        \begin{itemize}
            \item Le symbole \mintinline{latex}{=} permet d'écrire l'égalité.
            \item Le symbole \mintinline{latex}{\frac{1}{3}} permet d'écrire la fraction \(\frac{1}{3}\).
            \item Il est possible d'utiliser des fractions plus complexes comme \mintinline{latex}{\frac{x^2 + 1}{x - 1}} pour \(\frac{x^2 + 1}{x - 1}\)
            où le premier argument de \mintinline{latex}{\frac{}{}} est le numérateur et le second argument est le dénominateur.
        \end{itemize}

        \item Pour les autres symboles mathématiques, il est possible de deviner le nom de la commande
        ou alors de chercher dans la documentation de LaTeX.
    \end{itemize}
\end{itemize}

Il est important de savoir qu'il vaut mieux éviter d'utiliser le mode inline
pour écrire des formules mathématiques trop longues ou trop complexes. Comme l'indique son nom,
le mode inline est fait pour écrire des formules mathématiques courtes et simples dans le texte.

Il est une bonne pratique d'utiliser le mode display pour écrire des grosses formules
mathématiques ou des formules qui prennent plusieurs lignes.

\subsection{Les symboles mathématiques}\label{subsec:latex_math_symbols}
Il existe de très nombreux symboles mathématiques en LaTeX.
Il vaut mieux utiliser le site \href{detexify.kirelabs.org}{Detexify} pour
trouver le symbole que vous cherchez à partir d'un dessin ou alors se référer à la
documentation de LaTeX (le site est vraiment très fort). Je vous en donne quand même quelques uns ici:

% image of the site working well
\begin{figure}[H]
    \centering
    \includegraphics[width=0.5\textwidth]{./4_Mathematics/detexify}
    \caption{Le site Detexify}\label{fig:detexify}
\end{figure}

\begin{itemize}
    \item \textbf{Les symboles de base}:
    \begin{itemize}
        \item \mintinline{latex}{\geq} pour \(\geq\)
        \item \mintinline{latex}{\infty} pour \(\infty\)
        \item \mintinline{latex}{\exists} pour \(\exists\)
        \item \mintinline{latex}{\int} pour \(\int\)
        \item \mintinline{latex}{\sum} pour \(\sum\)
        \item Encore une fois, il est facile de deviner le nom de la commande
    \end{itemize}
    \item \textbf{Les symboles de logique}:
    \begin{itemize}
        \item \mintinline{latex}{\land} pour \(\land\)
        \item \mintinline{latex}{\lor} pour \(\lor\)
        \item Remarquez que c'est simplement le nom anglais précédée de \og{}l \fg{}
        où \og{}l \fg{} signifie \og{}logique \fg{}
    \end{itemize}
    \item \textbf{Les environnements mathématiques}:
    \begin{itemize}
        \item \mintinline{latex}{\begin{equation}} et \mintinline{latex}{\end{equation}} pour écrire une équation
        \item \mintinline{latex}{\begin{align}} et \mintinline{latex}{\end{align}} pour écrire une équation alignée
        \item Si vous ne voulez pas d'équation numérotée, rajoutez un \texttt{*} à la fin de l'environnement
        \item Par exemple, \mintinline{latex}{\begin{equation*}} et \mintinline{latex}{\end{equation*}}
    \end{itemize}
\end{itemize}

\subsection{Les choses à savoir}\label{subsec:latex_math_know}

Vous avez sûrement remarqué que dans les équations~\eqref{eq:2} et~\eqref{eq:3},
il y a des éléments qui ne ressemblent pas à des simples symboles. En effet,
on peut faire plus que simplement écrire des symboles mathématiques en LaTeX.
Il est possible de faire des choses comme:
\begin{itemize}
    \item \textbf{Mettre une boîte autour d'une formule} avec \mintinline{latex}{\boxed{xx}}:
    \begin{equation}
        \boxed{a + b = c}
    \end{equation}
    \item \textbf{Mettre une barre autour d'une formule} avec \mintinline{latex}{\overline{xx}}:
    \begin{equation}
        \overline{a + b = c}
    \end{equation}
    \item \textbf{Mettre une parenthèse autour d'une formule} avec \mintinline{latex}{\left(xx\right)}:
    \begin{equation}
        \left( a + b = c \right)
    \end{equation}
    \item \textbf{Ecrire en dessous d'une formule} avec \mintinline{latex}{\underbrace{xx}_{yy}}:
    \begin{equation}
        \underbrace{a + b = c}_{\text{C'est une équation}}
    \end{equation}
    \item \textbf{Indicer à plusieurs niveaux} avec \mintinline{latex}{\substack{xx \\ yy}}:
    \begin{equation}
        \sum_{\substack{i=1 \\ j=2}}^{n} i + j
    \end{equation}
\end{itemize}

Bien plus est encore possible mais cela vient en recherchant dans la documentation
et avec le temps. Un conseil est de ne pas hésiter à regarder le code source
d'un document LaTeX pour le comprendre ou y piocher des éléments cools.

\subsection{Les environnements spécialisés}\label{subsec:latex_math_env}

Latex propose en plus des environnements mathématiques précédents des environnements 
supplémentaires permettant la définition d'environnement comme les théorèmes, les exemples etc

Je vous conseille d'aller voir directement la documentation du package \texttt{amsthm}
car il est très complet et je ne vais pas le détailler ici.

\subsection{Le référencement}\label{subsec:latex_math_ref}

Si vous avez été curieux, vous avez essayé de cliquer sur les 
références~\eqref{eq:2} et~\eqref{eq:3} et avez été émerveillé de voir que
cela vous a amené directement à l'équation en question.
C'est cela qu'on appelle le référencement.

On peut référencer des équations, des sections, des figures, des tableaux,
des théorèmes, des définitions, etc. On peut référencer tout ce qu'on veut
en LaTeX. Il suffit de faire ceci:
\begin{enumerate}
    \item Rajouter une \mintinline{latex}{\label{xx}} à l'endroit
    où vous voulez référencer l'élément. Il lui faut un nom unique.
    \item Utiliser la commande \mintinline{latex}{\ref{xx}} pour
    référencer l'élément.
    \item Si vous voulez référencer une équation, utilisez \mintinline{latex}{\eqref{xx}}.
    \item Il est de bonne pratique de nommer les labels de manière
    cohérente. Par exemple, pour une équation, vous pouvez utiliser
    \mintinline{latex}{\label{eq:nom_de_l_equation}} et pour une section,
    \mintinline{latex}{\label{sec:nom_de_la_section}}. Cela permet de
    retrouver facilement les labels dans le code source et
    d'éviter les conflits de noms.
\end{enumerate}

Attention, ce référencement est différent de celui qu'on utilise
dans les bibliographies. Il ne faut pas confondre les deux. Celui-ci
est plus simple et ne nécessite pas de package supplémentaire.
Il sera détaillé plus tard.

\subsection{Conclusion}\label{subsec:latex_math_conclusion}
En conclusion, LaTeX est un outil formidable pour écrire des formules mathématiques.
Il permet d'écrire des formules mathématiques de manière très élégante et
de les référencer facilement. 

Il est important de connaître les différents modes d'écriture,
les symboles mathématiques et les environnements mathématiques pour
pouvoir écrire des formules mathématiques de manière efficace.

N'hésitez pas à expérimenter et à chercher dans la documentation 
ou me contacter si vous avez des questions.
Vous pouvez aussi vous entraîner en écrivant des formules mathématiques
dans un document LaTeX vierge et en les compilant pour voir le résultat.
